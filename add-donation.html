<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="addDonation_title">Add Donation</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body class="page-center">
  <div class="container" style="max-width: 760px;">
    <div class="highlight-box" style="width:100%; padding:22px; border-radius:16px;">

      <div style="display:flex; justify-content:space-between; align-items:center; gap:10px; margin-bottom:14px;">
        <h1 data-i18n="addDonation_title" style="margin:0; text-align:center; flex:1;">Add Donation Item</h1>
        <button type="button" class="nav-btn" id="lang-toggle">‰∏≠ / EN</button>
      </div>

      <!-- Not logged in warning -->
      <div id="login-warning" style="display:none; margin: 0 0 12px; padding: 10px 12px; border-radius: 10px; background:#fff3e8;">
        <strong data-i18n="addDonation_loginWarn" style="color:#b00020;">‚ùå You are not logged in. You cannot post a donation.</strong>
        <div style="margin-top:8px; display:flex; gap:10px; flex-wrap:wrap;">
          <a class="nav-btn" href="/login.html" data-i18n="addDonation_goLogin">Go to Login</a>
          <a class="nav-btn" href="/index.html" data-i18n="addDonation_backHome">Back to Home</a>
        </div>
      </div>

      <form id="donationForm">
        <div class="form-group">
          <label for="category" data-i18n="addDonation_category">Category *</label>

          <!-- ‚ö†Ô∏è option ‰∏çÂ°û spanÔºåÁøªË≠ØÁî± i18n-pages.js Êîπ option.textContent -->
          <select id="category" required>
            <option value="" selected disabled>Select a category</option>

            <option value="food">üçé Food</option>
            <option value="household">üè† Household</option>
            <option value="clothes">üëï Clothes</option>
            <option value="books">üìö Books</option>
            <option value="furniture">ü™ë Furniture</option>
            <option value="others">‚ú® Others</option>
          </select>



          <!-- AI Auto Classify -->
          <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
            <button type="button" id="btnAutoClassify" class="nav-btn" data-i18n="addDonation_aiBtn">ü§ñ AI Auto Classify</button>
            <span id="aiBadge" style="display:none; padding:6px 10px; border-radius:999px; background:#1b1b2a; border:1px solid rgba(255,255,255,.12);">
              <span data-i18n="addDonation_aiLabel">AI</span>:
              <b id="aiCategory"></b> |
              <span data-i18n="addDonation_confLabel">conf</span>:
              <b id="aiConfidence"></b>
            </span>
          </div>
          <div id="aiReason" class="message" style="min-height:18px; margin-top:6px;"></div>
        </div>

        <div class="form-group">
          <label for="item_name" data-i18n="addDonation_itemName">Item Name *</label>
          <input id="item_name" required />
        </div>

        <div class="form-group">
          <label for="quantity" data-i18n="addDonation_quantity">Quantity *</label>
          <input id="quantity" type="number" min="1" step="1" value="1" required />
        </div>

        <div class="form-group">
          <label for="area" data-i18n="addDonation_area">Area</label>
          <input id="area" data-i18n-ph="addDonation_area_ph" placeholder="e.g., Taoyuan / Zhongli" />
        </div>

        <div class="form-group">
          <label for="pickup_location" data-i18n="addDonation_pickup">Pickup Location</label>
          <input id="pickup_location" data-i18n-ph="addDonation_pickup_ph" placeholder="e.g., Zhongli Station / YZU Main Gate" />
        </div>

        <div class="form-group">
          <label for="image_file" data-i18n="addDonation_image">Image Upload</label>
          <input id="image_file" type="file" accept="image/*" />
          <div id="upload_msg" class="message" style="min-height:18px; margin-top:6px;"></div>
          <img id="img_preview" alt="preview" style="display:none; max-width:220px; border-radius:12px; margin-top:10px;" />
        </div>

        <div class="form-group">
          <label for="description" data-i18n="addDonation_desc">Description</label>
          <textarea id="description" data-i18n-ph="addDonation_desc_ph" placeholder="Condition, size, notes..."></textarea>
        </div>

        <button id="btn-submit" type="submit" data-i18n="addDonation_submit">Submit</button>

        <div id="msg" class="message" style="min-height:18px;"></div>

        <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap;">
          <a class="nav-btn" href="/index.html" data-i18n="addDonation_back">‚¨Ö Back to Home</a>
        </div>
      </form>
    </div>
  </div>

  <!-- scripts ÊîæÂ∫ïÈÉ® -->
  <script src="/i18n.js"></script>
  <script src="/add-donation.js"></script>
  <script src="/i18n-pages.js"></script>
</body>
</html>
